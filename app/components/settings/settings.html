<div class="settings row" (dragover)="false" (dragleave)="false" (drop)="false">

    <div class="col">
        <div class="row">
            <div class="col default-nav bg-light text-right">
                <button id="save-settings-button" class="btn btn-primary"
                        [ngClass]="{ 'disabled': saving }"
                        (click)="saving || save()">
                    <span class="mdi mdi-settings" style="color: white"></span>
                    Einstellungen übernehmen
                </button>
            </div>
        </div>

        <div class="row">
            <div class="form-group col default-container">

                <div class="col-lg-6 mx-lg-auto py-4">

                    <div class="form-group" style="margin-bottom: 0;">

                        <label class="control-label col-form-label"
                               for="username-input">Name des Bearbeiters
                        </label>
                        <input id="username-input"
                               [ngModel]="settings.username"
                               (ngModelChange)="settings.username = $event"
                               class="form-control">
                    </div>

                    <div class="settings-info" style="margin-top: 13px;">
                        Dieser Name wird in der Bearbeitungshistorie gespeichert,
                        damit Änderungen an Datensätzen einer Person zugeordnet werden können.
                        Diese Einstellung ist sehr <b>wichtig</b> bei der Datenbanksynchronisation,
                        sowohl zwischen Nutzern als auch zum iDAI.field-Server, da das System so eventuelle
                        Konflikte besser zuordnen und lösen kann. Sie sollte also in jedem Fall vor Inbetriebnahme
                        gesetzt werden. Empfohlen wird, den vollen Namen des aktuellen Datenbanknutzers
                        einzutragen.
                    </div>

                    <hr>


                    <h5 style="margin-top: 32px;">Synchronisation</h5>

                    <div class="row" style="margin: 15px 0 0;">
                        <div class="col-auto mr-auto">
                            Synchronisation aktivieren
                        </div>
                        <div class="col-auto">
                            <label class="switch" style="margin-bottom: 0;">
                                <input type="checkbox" [checked]="settings.isSyncActive"
                                       (change)="toggleSync()">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">

                        <label for="sync-target-address-input"
                               class="control-label col-form-label">Adresse</label>
                        <input id="sync-target-address-input" [ngModel]="settings.syncTarget.address"
                               (ngModelChange)="settings.syncTarget.address = $event"
                               class="form-control">

                        <label for="sync-target-username-input"
                               class="control-label col-form-label">Benutzer</label>
                        <input id="sync-target-username-input" [ngModel]="settings.syncTarget.username"
                               (ngModelChange)="settings.syncTarget.username = $event"
                               class="form-control">

                        <label for="sync-target-password-input"
                               class="control-label col-form-label">Passwort</label>
                        <input id="sync-target-password-input"
                               type="password"
                               [ngModel]="settings.syncTarget.password"
                               (ngModelChange)="settings.syncTarget.password = $event"
                               class="form-control">

                        <label class="control-label col-form-label">
                            Eigene Adresse: http://{{ipAddress}}:3000
                        </label>
                        <div class="settings-info">
                            Diese Adresse kann in anderen iDAI.field-Clients eingetragen werden, um
                            eine Synchronisationsverbindung zu diesem Client herzustellen.
                        </div>
                    </div>


                    <hr>

                    <h5 style="margin-top: 32px;">Medienressourcen</h5>

                    <div class="form-group" style="margin-bottom: 0;">

                        <label class="control-label col-form-label"
                               for="imagestorepath-input">Pfad zum Bilderverzeichnis
                        </label>
                        <div class="input-group">
                            <input id="imagestorepath-input"
                                   [ngModel]="settings.imagestorePath"
                                   (ngModelChange)="settings.imagestorePath = $event"
                                   class="form-control">
                            <span class="input-group-btn">
                                <input id="imagestorepath-file" type="file" webkitdirectory directory
                                       (change)="settings.imagestorePath = $event.target.files[0].path + '/'"
                                       style="display: none">
                                <label for="imagestorepath-file" class="btn btn-secondary">
                                    <span class="mdi mdi-folder"></span>
                                </label>
                            </span>
                        </div>

                        <div class="settings-info" style="margin-top: 13px;">
                            Dieser Pfad kann normalerweise auf seiner Grundeinstellung belassen werden. Er kann
                            verändert werden, wenn das von iDAI.field genutzte Bilderverzeichnis auf einem
                            Netzwerk-Gerät (NAS) liegt, das von verschiedenen Nutzern geteilt wird.
                            iDAI.field legt unterhalb dieses Pfades für jedes Projekt ein Unterverzeichnis an.
                            Die in Verzeichnissen abgelegten Bilddateien werden vollständig durch iDAI.field
                            verwaltet. Bilddateien sollten vom Nutzer nicht per Hand dort abgelegt werden, sondern
                            per Drag & Drop in die Bilderübersicht (oder in das Bilder-Tab der Einzeldatenansicht)
                            gezogen bzw. dort gelöscht werden.
                        </div>
                    </div>


                    <div class="form-group" style="margin-bottom: 0;">

                        <label class="control-label col-form-label"
                               for="model3dstorepath-input">Pfad zum 3D-Modell-Verzeichnis
                        </label>
                        <div class="input-group">
                            <input id="model3dstorepath-input"
                                   [ngModel]="settings.model3DStorePath"
                                   (ngModelChange)="settings.model3DStorePath = $event"
                                   class="form-control">
                            <span class="input-group-btn">
                            <input id="model3dstorepath-file" type="file" webkitdirectory directory
                                   (change)="settings.model3DStorePath = $event.target.files[0].path + '/'"
                                   style="display: none">
                            <label for="model3dstorepath-file" class="btn btn-secondary">
                                <span class="mdi mdi-folder"></span>
                            </label>
                        </span>
                        </div>
                    </div>


                    <hr>

                    <h5 style="margin-top: 32px;">Update</h5>

                    <div class="row" style="margin: 15px 0 0;">
                        <div class="col-auto mr-auto">
                            Automatische Prüfung auf Updates aktivieren
                        </div>
                        <div class="col-auto">
                            <label class="switch" style="margin-bottom: 0;">
                                <input type="checkbox" [checked]="settings.isAutoUpdateActive"
                                       (change)="toggleAutoUpdate()">
                                <span class="slider round"></span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
