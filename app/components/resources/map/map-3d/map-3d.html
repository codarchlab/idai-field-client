<div id="map-3d"
     [class.drag]="controlState && controlState.dragging"
     [class.hover]="controlState && controlState.hoverDocument">

    <div id="canvas-container" #container
         (mousedown)="onMouseDown($event)"
         (mouseup)="onMouseUp($event)"
         (mousemove)="onMouseMove($event)"
         (wheel)="onWheel($event)"
         (contextmenu)="$event.preventDefault()">
    </div>

    <point-geometries [documents]="documents"
                      [selectedDocument]="selectedDocument"
                      (onSelectDocument)="select($event)">
    </point-geometries>

    <mesh-geometries [documents]="documents"
                     [hoverDocument]="controlState ? controlState.hoverDocument : undefined"
                     [meshGeometryManager]="meshGeometryManager">
    </mesh-geometries>

    <layers-2d [mainTypeDocument]="mainTypeDocument"></layers-2d>
    <layers-3d [mainTypeDocument]="mainTypeDocument"></layers-3d>

    <control-buttons></control-buttons>

    <zoom-buttons (onZoomInClicked)="zoomIn()" (onZoomOutClicked)="zoomOut()"></zoom-buttons>

    <mesh-loading-progress-bar></mesh-loading-progress-bar>
</div>