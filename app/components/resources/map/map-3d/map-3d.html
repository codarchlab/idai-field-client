<div id="map-3d-container" #container
     [class.drag]="controlState && controlState.action == 'drag'"
     [class.rotate]="controlState && controlState.action == 'rotate'"
     [class.hover]="controlState && controlState.hoverDocument"
     (mousedown)="onMouseDown($event)"
     (mouseup)="onMouseUp($event)"
     (mousemove)="onMouseMove($event)"
     (wheel)="onWheel($event)"
     (contextmenu)="$event.preventDefault()">
</div>

<map-3d-point-geometries [documents]="documents"
                         [selectedDocument]="selectedDocument"
                         (onSelectDocument)="select($event)">
</map-3d-point-geometries>

<map-3d-mesh-geometries [documents]="documents"
                        [hoverDocument]="controlState ? controlState.hoverDocument : undefined"
                        [meshGeometryManager]="meshGeometryManager"
></map-3d-mesh-geometries>

<layer-3d-menu [layers]="layers"
               (onToggleLayer)="toggleLayer($event)"
               (onFocusLayer)="focusLayer($event)">
</layer-3d-menu>